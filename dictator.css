    /* ====== Базовая тема и переменные ====== */
    :root {
      --bg: #ffffff;
      --fg: #111111;
      --muted: #666;
      --surface: #f5f7fb;
      --primary: #3b82f6; /* синий */
      --primary-pressed: #2563eb;
      --accent: #76c7c0;
      --border: #e5e7eb;
      --radius: 14px;
      --shadow: 0 8px 30px rgba(0,0,0,.08);
      --highlight-bg: #fff1a6; /* мягкая жёлтая плашка для дневной темы */
      --highlight-fg: #111111; /* тёмный текст для контраста */
    }
    body.night-mode {
      --bg: #0f1220;
      --fg: #f7f7fb;
      --muted: #a0a3b1;
      --surface: #171a2b;
      --primary: #60a5fa;
      --primary-pressed: #3b82f6;
      --accent: #76c7c0;
      --border: #262a40;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --highlight-bg: #2a2f46; /* плашка для ночной темы */
      --highlight-fg: #f7f7fb; /* светлый текст на тёмном фоне */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; padding: 24px 16px;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg); color: var(--fg);
      transition: background .3s ease, color .3s ease;
    }

    .app {
      max-width: 820px; margin: 0 auto;
    }

    /* Заголовок прячем в настройках, оставим компактный бейдж */
    .brand {
      display: none;
    }

    /* Карточка ввода */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    textarea#text-input {
      width: 100%;
      min-height: 180px;
      padding: 14px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: transparent;
      color: inherit;
      font-size: 16px; /* актуальное значение дальше управляет JS */
      line-height: 1.5;
      outline: none;
    }
    textarea#text-input::placeholder { color: var(--muted); }

    .actions {
      margin-top: 12px;
      display: flex; gap: 12px; flex-wrap: wrap;
      align-items: center; justify-content: center;
    }
    #start-stop-button {
      -webkit-tap-highlight-color: transparent;
      appearance: none;
      border: none; cursor: pointer;
      padding: 14px 22px; font-size: 16px; font-weight: 600;
      border-radius: 999px;
      background: var(--primary); color: #fff;
      transition: transform .02s ease, background .2s ease;
      min-width: 160px;
    }
    #start-stop-button:active { transform: translateY(1px); background: var(--primary-pressed); }

    #pause-resume-button {
      -webkit-tap-highlight-color: transparent;
      appearance: none;
      border: 1px solid var(--border); cursor: pointer;
      padding: 12px 18px; font-size: 16px; font-weight: 600;
      border-radius: 999px;
      background: var(--surface); color: inherit;
      transition: transform .02s ease, background .2s ease, opacity .2s ease;
      min-width: 140px;
    }
    #pause-resume-button:active { transform: translateY(1px); }
    #pause-resume-button:disabled { opacity: .6; cursor: not-allowed; }


    /* Отображение диктуемого предложения */
    #sentence-display {
      width: 100%;
      min-height: 160px;
      border: 1px dashed var(--border);
      border-radius: 12px;
      background: transparent;
      color: inherit;
      display: none; /* по умолчанию скрыто */
      margin-top: 14px;
    }
    #sentence-wrapper { display: table; width: 100%; height: 100%; }
    #sentence-content {
      display: table-cell; vertical-align: middle; text-align: center;
      padding: 12px; white-space: pre-wrap; word-wrap: break-word; box-sizing: border-box;
      font-size: 48px; /* управляется ползунком */
    }

    .highlight {
      background: var(--highlight-bg);
      color: var(--highlight-fg) !important;
      font-weight: 700;
      text-decoration: none;
      text-shadow: none;
      border-radius: 6px;
      padding: 2px 4px;
      box-shadow: 0 0 0 2px var(--highlight-bg);
    }

    /* Прогресс и индикаторы — скрыты, пока не идёт диктовка */
    #progress-container { display: none; width: 100%; background: #e5e7eb; border-radius: 999px; overflow: hidden; margin-top: 16px; }
    body.night-mode #progress-container { background: #2a2f46; }
    #progress-bar { width: 0%; height: 10px; background: var(--accent); transition: width .3s; }
    body.speaking #progress-container { display: block; }

    #indicator { display: none; margin-top: 8px; font-size: 15px; color: #FF7A45; opacity: 0; height: auto; transition: opacity .3s; text-align: center; }
    #indicator.visible { display: block; opacity: 1; }

    /* ====== Спойлер «Настройки» ====== */
    details.settings {
      margin-top: 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    details.settings > summary {
      list-style: none; cursor: pointer; user-select: none;
      padding: 14px 16px; font-weight: 600;
      display: flex; align-items: center; justify-content: space-between;
    }
    details.settings > summary::-webkit-details-marker { display: none; }
    .caret { inline-size: 1em; block-size: 1em; display: inline-block; transform: rotate(0deg); transition: transform .2s ease; }
    details[open] .caret { transform: rotate(90deg); }

    .settings-body { padding: 8px 16px 16px; border-top: 1px solid var(--border); }

    /* Компоновка контролов — адаптивная сетка */
    .controls { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 8px; }
    .control-group { display: grid; gap: 6px; }
    .control-group label { font-size: 14px; color: var(--muted); }
    input[type="range"] { width: 100%; }

    @media (min-width: 720px) {
      .controls { grid-template-columns: repeat(2, 1fr); }
    }

    /* Кнопки доп. действий */
    .additional-buttons { margin-top: 8px; display: flex; flex-wrap: wrap; gap: 10px; }
    .additional-buttons button {
      padding: 10px 14px; border-radius: 12px; border: 1px solid var(--border);
      background: transparent; color: inherit; cursor: pointer; font-weight: 600;
    }
    .additional-buttons button:hover { background: rgba(0,0,0,.04); }
    body.night-mode .additional-buttons button:hover { background: rgba(255,255,255,.06); }

    /* Переключатель темы — оставим как был, слегка подправим */
    .theme-switch { margin-top: 8px; display: flex; align-items: center; gap: 8px; }
    .switch { position: relative; display: inline-block; width: 56px; height: 32px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; inset: 0; background: #aab2c8; transition: .3s; border-radius: 999px; }
    .slider:before { content: ""; position: absolute; height: 24px; width: 24px; left: 4px; bottom: 4px; background: white; transition: .3s; border-radius: 50%; }
    input:checked + .slider { background: var(--primary); }
    input:checked + .slider:before { transform: translateX(24px); }

    /* Справка */
    #help-section { display: none; text-align: left; margin-top: 10px; border: 1px dashed var(--border); padding: 12px; border-radius: 12px; background: transparent; }
  
    .presets { display:flex; gap:10px; margin-top:10px; flex-wrap:wrap; }
    .preset-btn {
      -webkit-tap-highlight-color: transparent;
      appearance: none;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: transparent;
      color: inherit;
      cursor: pointer;
      font-weight: 600;
      transition: transform .02s ease, background .2s ease, opacity .2s ease;
    }
    .preset-btn:hover { background: rgba(0,0,0,.04); }
    body.night-mode .preset-btn:hover { background: rgba(255,255,255,.06); }
    .preset-btn:active { transform: translateY(1px); }
    .preset-btn[aria-pressed="true"] {
      background: var(--primary);
      color: var(--on-primary);
      border-color: transparent;
    }

